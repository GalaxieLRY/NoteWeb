---
title: 【哈希】最长连续序列
date: 2025-08-20
---

## 题目：

给定一个未排序的整数数组`nums`，找出数字连续的最长序列（不要求序列元素在原数组中连续）的长度。

请你设计并实现时间复杂度为$O(n)$的算法解决此问题。

## 思路：

1. 判空：如果`nums`为空，则返回`0`。
2. 使用`set`得到去重且已排序的`nums`数组。
3. 设置`max_length=1`，`current_length=1`，**避免后面一段连续数字的序列长度比前面一段连续数字的序列长度长，不是所有的数字最长序列都是从第一个数字开始的**。
4. 遍历`set`，对于每一个元素`it`，如果`*it`等于`*(it-1)+1`，则`current_length`加一，并且更新`max_length=max(max_length, current_length)`；否则`current_length`置为`1`。
5. 返回`max_length`。

## 代码：

```c++
class Solution {
public:
    int longestConsecutive(vector<int>& nums) {
        // 判空
        if(nums.size() == 0){
            return 0;
        }

        int max_len=1;
        int current_len=1;
        // 得到去重且排序的数组
        set<int> sets(nums.begin(),nums.end());
        auto it=sets.begin();
        int n=*it;
        ++it;

        // 遍历数组
        for(; it != sets.end(); ++it){
            cout << *it << endl;
            if(*it == n+1){
                current_len ++;
                // 更新最大长度
                max_len = max(max_len,current_len);
            }else{
                current_len = 1;
            }
            n=*it;
        }
        return max_len;
    }
};
```